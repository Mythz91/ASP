<header data-ng-include="'templates/loginHeader.html'" class="navbar-fixed-top"></header>
<div id="register" class="input-group input-group shift login" ng-init="vm.updateData()" >
   <legend> <h2 class="text-success">Update Information</h2></legend>
    
    <div uib-alert class="alert alert-success"  close="vm.close()" ng-if="vm.data" >
           Profile update is successful
       </div>
       <div uib-alert class="alert alert-danger"  close="vm.closeMsg()" ng-if="vm.msg" >
           There is a issue in updating the data
        </div>
        <div uib-alert class="alert alert-danger"  close="vm.closeMsg2()" ng-if="vm.msg2" >
               The server is busy, please try to update data later
            </div>
        <form name="update" ng-submit="vm.updateInfo(vm.userName,vm.regNum,vm.mail,vm.address,vm.city,vm.states,vm.zip,vm.password)">
            
            <div ng-show="vm.show">
               <p>UserName :
                        <input type="text" class="form-control" ng-model="vm.userName" name="userName" required minlength="5" maxlength="20" onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123)|| event.charCode==32"/>
                      </p>
                      <div ng-messages="update.userName.$error">
                            <p class="warn" ng-message="minlength">Your name is too short.</p>
                            <p class="warn" ng-message="maxlength">Your name is too long.</p>
                            <p  class="warn" ng-message="required">Your name is required.</p>
                        </div>
                    <p>Registration Number :
                        <input type="text" class="form-control" ng-model="vm.regNum"  readonly minlength="7" maxlength="7"/>
                     </p>
                    <p>Email:
                        <input type="email" class="form-control" ng-model="vm.mail" name="email" required />
                        </p>
                        <div ng-messages="update.email.$error">
                                <p class="warn" ng-message="email">Please enter a valid email</p>
                                <p class="warn" ng-message="required">Your email-id is required.</p>
                            </div>
                    <p>Address:</p>
                    <span>Street Address  :</span>   <input type="text" name="street" class="form-control" ng-model="vm.address" minlength="6" required/> <br/>
                    <div ng-messages="update.street.$error">
                            <p class="warn" ng-message="minlength">Please enter your street address</p>
                            <p class="warn" ng-message="required">Your Street address is required.</p>
                        </div>
                    <span>City :</span>   <input type="text" name="city" class="form-control" ng-model="vm.city" minlength="4"  onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123)|| event.charCode==32" required/> <br/><br/>
                    <div ng-messages="update.city.$error">
                            <p class="warn" ng-message="minlength">Please enter your street address</p>
                            <p class="warn" ng-message="required">Your Street address is required.</p>
                        </div>
                    <span>State  :</span> <select ng-model="vm.states" name="state" ng-blur="vm.verifyState()" ng-options="state as state for state in vm.state" required></select> 
                        <br/>  <div ng-messages="update.state.$error">
                                  <p class="warn" ng-message="required">State is required.</p>
                              </div>
                    <p>Zip:
                        <input type="text" class="form-control" ng-model="vm.zip" name="zip"  required minlength="5" maxlength="5" onkeyup="this.value=this.value.replace(/[^\d]/,'')"/>
                        <br/>
                      
                    </p>
                    <div ng-messages="update.zip.$error">
                            <p class="warn" ng-message="minlength">Please enter Zip </p>
                            <p class="warn" ng-message="required">Zip is required.</p>
                        </div>
                    <p> Password:
                        <input type="password" name="password" class="form-control" ng-blur="vm.verifyPass()" ng-model="vm.password" ng-keypress="vm.clearPassErr()" required minlength="4" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{4,}"/>
                      
                        <br/>
                       
                    </p>
                      <div ng-messages="update.password.$error">
                                <p class="warn" ng-message="required">Please enter your password.</p>
                                <p class="warn" ng-message="minlength">Your password must be  at least four characters long</p>
                                <p class="warn" ng-message="pattern">Your password must be at least one number, one lowercase and one uppercase letter at least four characters long</p>
                                <span class="warn">{{vm.passErr }}</span><br/>
                            </div>
                    <p>Confirm  Password:
                            <input type="password" name="cpassword" class="form-control" ng-blur="vm.confirmPass()" ng-model="vm.passwordConfirm" ng-keypress="vm.clearPassCErr()" required minlength="4" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{4,}"/>
                            <br/>
                            
                        </p>
                        <div ng-messages="update.cpassword.$error">
                                <p class="warn" ng-message="required">Please enter your password.</p>
                                <p class="warn" ng-message="minlength">Your password must be  at least four characters long</p>
                                <p class="warn" ng-message="pattern">Your password must be at least one number, one lowercase and one uppercase letter at least four characters long</p>
                                <span class="warn"> {{vm.confirmErr}}</span><br/>
                            </div>
                    <button  type="submit" class="btn btn-success">Register!!</button>
                    <br/> 

                   
                    </div>
                    
        </form>
      
    </div>